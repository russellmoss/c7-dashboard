{
  "name": "milea-kpi-dashboard",
  "version": "1.0.0",
  "private": true,
  "type": "module",
  "scripts": {
    "dev": "next dev",
    "prebuild": "cross-env echo 'Setting up build environment...' && echo 'NODE_ENV: $NODE_ENV'",
    "prebuild:prod": "echo 'Setting up production build environment...' && echo 'NODE_ENV: $NODE_ENV' && echo 'SKIP_INTEGRATION_TESTS: $SKIP_INTEGRATION_TESTS'",
    "build": "cross-env NODE_ENV=production SKIP_INTEGRATION_TESTS=true NEXT_DISABLE_STATIC_GENERATION=true NEXT_DISABLE_OPTIMIZATION=true NEXT_DISABLE_CACHE=true NEXT_DISABLE_STATIC_EXPORT=true next build --no-lint",
    "build:render": "NODE_ENV=production SKIP_INTEGRATION_TESTS=true NEXT_DISABLE_STATIC_GENERATION=true NEXT_DISABLE_OPTIMIZATION=true NEXT_DISABLE_CACHE=true NEXT_DISABLE_STATIC_EXPORT=true next build --no-lint --debug",
    "build:windows": "set NODE_ENV=production && set SKIP_INTEGRATION_TESTS=true && set NEXT_DISABLE_STATIC_GENERATION=true && set NEXT_DISABLE_OPTIMIZATION=true && set NEXT_DISABLE_CACHE=true && set NEXT_DISABLE_STATIC_EXPORT=true && next build --no-lint",
    "build:worker": "NODE_ENV=production tsc -p tsconfig.worker.json",
    "build:worker:prod": "NODE_ENV=production SKIP_INTEGRATION_TESTS=true CI=true tsc -p tsconfig.worker.json && node scripts/add-js-extensions.js",
    "build:worker:windows": "set NODE_ENV=production && set SKIP_INTEGRATION_TESTS=true && set CI=true && tsc -p tsconfig.worker.json && node scripts/add-js-extensions.js",
    "build:all": "npm run build && npm run build:worker",
    "build:all:prod": "npm run build:render && npm run build:worker:prod",
    "build:prod": "NODE_ENV=production SKIP_INTEGRATION_TESTS=true CI=true npm run build:render && npm run build:worker:prod",
    "postbuild": "echo 'Build completed successfully' && ls -la .next/ && test -f .next/BUILD_ID && echo 'BUILD_ID exists' || echo 'BUILD_ID missing'",
    "verify:build": "test -f .next/BUILD_ID && echo 'Build ID exists' || echo 'Build ID missing'",
    "verify:render": "echo 'Verifying build artifacts...' && ls -la .next/ && test -f .next/BUILD_ID && echo '✅ BUILD_ID exists' || (echo '❌ BUILD_ID missing' && exit 1)",
    "verify:windows": "echo 'Verifying build artifacts...' && dir .next && if exist .next\\BUILD_ID (echo '✅ BUILD_ID exists') else (echo '❌ BUILD_ID missing' && exit 1)",
    "start": "cross-env NODE_ENV=production node server.js",
    "start:worker": "NODE_ENV=production node dist/scripts/background-worker.js",
    "worker:dev": "npm run build:worker && node --loader ts-node/esm dist/scripts/background-worker.js",
    "worker:prod": "node dist/scripts/background-worker.js",
    "worker:watch": "nodemon --watch src --ext ts --exec 'npm run worker:dev'",
    "worker:windows": "npm run build:worker:windows && node dist/scripts/background-worker.js",
    "migrate:competitions": "node src/scripts/migrations/create-competition-collection.js",
    "migrate:subscribers": "node src/scripts/migrations/update-subscriber-schema.js",
    "migrate:aov": "node src/scripts/migrations/backfill-aov-data.js",
    "migrate:all": "npm run migrate:competitions && npm run migrate:subscribers && npm run migrate:aov",
    "test:build": "npm run build:all",
    "test:worker": "npm run build:worker && npm run start:worker",
    "health:check": "curl -f http://localhost:3000/api/health || exit 1",
    "lint": "next lint",
    "type-check": "tsc --noEmit"
  },
  "dependencies": {
    "@anthropic-ai/sdk": "^0.24.0",
    "@radix-ui/react-select": "^2.2.5",
    "@radix-ui/react-separator": "^1.1.7",
    "@radix-ui/react-slot": "^1.2.3",
    "@supabase/supabase-js": "^2.38.0",
    "@types/node-cron": "^3.0.8",
    "axios": "^1.6.0",
    "chalk": "^4.1.2",
    "class-variance-authority": "^0.7.0",
    "clsx": "^2.0.0",
    "date-fns": "^4.1.0",
    "date-fns-tz": "^3.2.0",
    "dotenv": "^17.2.0",
    "express": "^5.1.0",
    "inquirer": "^8.2.6",
    "lucide-react": "^0.293.0",
    "moment-timezone": "^0.5.43",
    "mongoose": "^8.0.0",
    "next": "14.0.0",
    "node-cron": "^3.0.3",
    "node-fetch": "^3.3.2",
    "p-queue": "^8.1.0",
    "puppeteer": "^24.15.0",
    "react": "^18",
    "react-dom": "^18",
    "recharts": "^2.8.0",
    "resend": "^2.1.0",
    "tailwind-merge": "^2.0.0",
    "tailwindcss": "^3.4.17",
    "tailwindcss-animate": "^1.0.7",
    "twilio": "^5.8.0"
  },
  "devDependencies": {
    "@types/bcryptjs": "^2.4.6",
    "@types/express": "^4.17.21",
    "@types/node": "^20",
    "@types/react": "^18",
    "@types/react-dom": "^18",
    "autoprefixer": "^10.4.21",
    "cross-env": "^10.0.0",
    "eslint": "^8",
    "eslint-config-next": "14.0.0",
    "nodemon": "^3.0.0",
    "postcss": "^8.5.6",
    "typescript": "^5"
  },
  "engines": {
    "node": ">=18.0.0",
    "npm": ">=8.0.0"
  }
}
